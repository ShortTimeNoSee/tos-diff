import{aB as I,aC as O,aD as S,G as V,a2 as k,A as C,aE as T,w as P,C as D,H as Y,Q as $,af as E,e as p,s as R,a as j,i as y,y as x,ae as B,aF as G,L as q,z,aG as F,v as Q,g as W,h as N,ag as J,j as K,$ as U,ah as X}from"./9UHeostH.js";const Z=["touchstart","touchmove"];function ee(e){return Z.includes(e)}const te=new Set,A=new Set;function w(e){var t=this,s=t.ownerDocument,l=e.type,o=e.composedPath?.()||[],a=o[0]||e.target,f=0,c=e.__root;if(c){var u=o.indexOf(c);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var _=o.indexOf(t);if(_===-1)return;u<=_&&(f=u)}if(a=o[f]||e.target,a!==t){I(e,"currentTarget",{configurable:!0,get(){return a||s}});var m=k,i=C;O(null),S(null);try{for(var r,n=[];a!==null;){var h=a.assignedSlot||a.parentNode||a.host||null;try{var d=a["__"+l];if(d!=null&&(!a.disabled||e.target===a))if(V(d)){var[M,...H]=d;M.apply(a,[e,...H])}else d.call(a,e)}catch(g){r?n.push(g):r=g}if(e.cancelBubble||h===t||h===null)break;a=h}if(r){for(let g of n)queueMicrotask(()=>{throw g});throw r}}finally{e.__root=t,delete e.currentTarget,O(m),S(i)}}}function se(e,t){var s=t==null?"":typeof t=="object"?t+"":t;s!==(e.__t??=e.nodeValue)&&(e.__t=s,e.nodeValue=s+"")}function ae(e,t){return L(e,t)}function ne(e,t){T(),t.intro=t.intro??!1;const s=t.target,l=N,o=y;try{for(var a=P(s);a&&(a.nodeType!==D||a.data!==Y);)a=$(a);if(!a)throw E;p(!0),R(a),j();const f=L(e,{...t,anchor:a});if(y===null||y.nodeType!==D||y.data!==x)throw B(),E;return p(!1),f}catch(f){if(f===E)return t.recover===!1&&G(),T(),q(s),p(!1),ae(e,t);throw f}finally{p(l),R(o)}}const v=new Map;function L(e,{target:t,anchor:s,props:l={},events:o,context:a,intro:f=!0}){T();var c=new Set,u=i=>{for(var r=0;r<i.length;r++){var n=i[r];if(!c.has(n)){c.add(n);var h=ee(n);t.addEventListener(n,w,{passive:h});var d=v.get(n);d===void 0?(document.addEventListener(n,w,{passive:h}),v.set(n,1)):v.set(n,d+1)}}};u(z(te)),A.add(u);var _=void 0,m=F(()=>{var i=s??t.appendChild(Q());return W(()=>{if(a){J({});var r=K;r.c=a}o&&(l.$$events=o),N&&U(i,null),_=e(i,l)||{},N&&(C.nodes_end=y),a&&X()}),()=>{for(var r of c){t.removeEventListener(r,w);var n=v.get(r);--n===0?(document.removeEventListener(r,w),v.delete(r)):v.set(r,n)}A.delete(u),i!==s&&i.parentNode?.removeChild(i)}});return b.set(_,m),_}let b=new WeakMap;function ie(e,t){const s=b.get(e);return s?(b.delete(e),s(t)):Promise.resolve()}export{ne as h,ae as m,se as s,ie as u};
